<script type="text/javascript" charset="utf-8">

	$(document).ready(function(){
          //var like_button = "<%#=j (link_to 'Like', like_puzzle_table_puzzle_path(123, 456), :method => :post, :remote => true, :class => "like-puzzle") %>";
          $("a[rel^='prettyPhoto']").each(function() {
            //var puzzle_table_id = $(this).closest('table').data('puzzle-table');
            //var puzzle_id = $(this).data('puzzle');
            //var current_like_button = like_button.replace(/123/g, puzzle_table_id).replace(/456/g, puzzle_id);
            
            $(this).prettyPhoto({
                        //like_button: current_like_button,
                        like_button: '',
			theme: 'dark_rounded', /* light_rounded / dark_rounded / light_square / dark_square / facebook */
			markup: '<div class="pp_pic_holder"> \
						<div class="ppt">&nbsp;</div> \
						<div class="pp_top"> \
							<div class="pp_left"></div> \
							<div class="pp_middle"></div> \
							<div class="pp_right"></div> \
						</div> \
						<div class="pp_content_container"> \
							<div class="pp_left"> \
							<div class="pp_right"> \
								<div class="pp_content"> \
									<div class="pp_loaderIcon"></div> \
									<div class="pp_fade"> \
										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \
										<div class="pp_hoverContainer"> \
											<a class="pp_next" href="#">next</a> \
											<a class="pp_previous" href="#">previous</a> \
										</div> \
										<div id="pp_full_res"></div> \
										<div class="pp_details"> \
											<div class="pp_nav"> \
												<a href="#" class="pp_arrow_previous">Previous</a> \
												<p class="currentTextHolder">0/0</p> \
												<a href="#" class="pp_arrow_next">Next</a> \
											</div> \
											<p class="pp_description"></p> \
											{pp_social} \
											{like_button} \
											<a class="pp_close" href="#">Close</a> \
										</div> \
									</div> \
								</div> \
							</div> \
							</div> \
						</div> \
						<div class="pp_bottom"> \
							<div class="pp_left"></div> \
							<div class="pp_middle"></div> \
							<div class="pp_right"></div> \
						</div> \
					</div> \
					<div class="pp_overlay"></div>'
		});
          });
          
          
            $(".like-puzzle").live("ajax:loading",  function() {
              console.log('qwe')
            }).live('ajax:success', function(event, data) {
              console.log(event, data)
              if (data && data.success) {
                $(this).replaceWith('You liked this');
              }
            });


	});
</script>
